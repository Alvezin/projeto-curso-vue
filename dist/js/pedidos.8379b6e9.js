"use strict";(self["webpackChunkprojeto_curso_vue"]=self["webpackChunkprojeto_curso_vue"]||[]).push([[550],{6751:function(t,s,e){e.r(s),e.d(s,{default:function(){return Y}});var n=e(3396);const a={class:"main-container"},o=(0,n._)("h1",null,"Gerenciar Pedidos",-1);function l(t,s,e,l,u,i){const c=(0,n.up)("Dashboard");return(0,n.wg)(),(0,n.iD)("div",a,[o,(0,n.Wm)(c)])}var u=e(9242),i=e(7139);const c=t=>((0,n.dD)("data-v-84e453d8"),t=t(),(0,n.Cn)(),t),r={id:"burger-table"},d=c((()=>(0,n._)("th",null,"#",-1))),p=c((()=>(0,n._)("th",null,"Cliente",-1))),h=c((()=>(0,n._)("th",null,"Pão",-1))),g=c((()=>(0,n._)("th",null,"Carne",-1))),_=c((()=>(0,n._)("th",null,"Opcionais",-1))),w=c((()=>(0,n._)("th",null,"Ações",-1))),v={class:"actions-cell"},m={class:"actions"},b=["onChange"],f=c((()=>(0,n._)("option",{value:""},"Selecione",-1))),D=["value","selected"],y=["onClick"];function C(t,s,e,a,o,l){const c=(0,n.up)("Message");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n.wy)((0,n.Wm)(c,{msg:a.state.statusMsg},null,8,["msg"]),[[u.F8,a.state.statusMsg]]),(0,n._)("table",r,[d,p,h,g,_,w,((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(a.state.burgers,(t=>((0,n.wg)(),(0,n.iD)("tr",{key:t.id},[(0,n._)("td",null,(0,i.zw)(t.id),1),(0,n._)("td",null,(0,i.zw)(t.nome),1),(0,n._)("td",null,(0,i.zw)(t.pao),1),(0,n._)("td",null,(0,i.zw)(t.carne),1),(0,n._)("td",null,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(t.opcionais,((t,s)=>((0,n.wg)(),(0,n.iD)("ul",{class:"lista-opcionais",key:s},[(0,n._)("li",null,(0,i.zw)(t),1)])))),128))]),(0,n._)("td",v,[(0,n._)("ul",m,[(0,n._)("li",null,[(0,n._)("select",{name:"status",onChange:s=>a.updateStatus(s,t.id)},[f,((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(a.state.status,(s=>((0,n.wg)(),(0,n.iD)("option",{key:s.id,value:s.tipo,selected:t.status==s.tipo},(0,i.zw)(s.tipo),9,D)))),128))],40,b)]),(0,n._)("li",null,[(0,n._)("input",{onClick:s=>a.removePedido(t.id),type:"button",value:"Remover",id:"remove-btn"},null,8,y)])])])])))),128))])],64)}var k=e(4438),j=e(4870),z={name:"Dashboard",components:{Message:k.Z},setup(){const t=(0,j.qj)({burgers:null,burger_id:null,status:[],statusMsg:null});async function s(){const s=await fetch("http://localhost:3000/status"),e=await s.json();t.status=e}async function e(){const e=await fetch("http://localhost:3000/burgers"),n=await e.json();t.burgers=n,s()}async function a(t){const s=await fetch(`http://localhost:3000/burgers/${t}`,{method:"DELETE"});await s.json();e(),l("removido",t)}async function o(t,s){const e=t.target.value,n=JSON.stringify({status:e}),a=await fetch(`http://localhost:3000/burgers/${s}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:n});await a.json();l("atualizado",s)}function l(s,e){t.statusMsg=`Pedido Nº ${e} ${s} com sucesso!`,setTimeout((()=>{t.statusMsg=null}),4e3)}return(0,n.bv)((()=>{e()})),{state:t,removePedido:a,updateStatus:o}}},M=e(89);const P=(0,M.Z)(z,[["render",C],["__scopeId","data-v-84e453d8"]]);var H=P,S={name:"Pedidos",setup(){},components:{Dashboard:H}};const T=(0,M.Z)(S,[["render",l]]);var Y=T}}]);
//# sourceMappingURL=pedidos.8379b6e9.js.map