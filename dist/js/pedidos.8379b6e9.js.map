{"version":3,"file":"js/pedidos.8379b6e9.js","mappings":"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","sources":["webpack://projeto-curso-vue/./src/views/Pedidos.vue","webpack://projeto-curso-vue/./src/components/Dashboard.vue","webpack://projeto-curso-vue/./src/components/Dashboard.vue?b002","webpack://projeto-curso-vue/./src/views/Pedidos.vue?d8a3"],"sourcesContent":["<template>\n  <div class=\"main-container\">\n    <h1>Gerenciar Pedidos</h1>\n    <Dashboard />\n  </div>\n</template>\n\n<script>\nimport Dashboard from '../components/Dashboard.vue'\nexport default {\n  name: 'Pedidos',\n  setup() {\n    \n  },\n  components:{\n    Dashboard\n  }\n}\n</script>","<template>\r\n    <Message :msg=\"state.statusMsg\" v-show=\"state.statusMsg\"/>\r\n    <table id=\"burger-table\">\r\n        <th>#</th>\r\n        <th>Cliente</th> \r\n        <th>Pão</th> \r\n        <th>Carne</th>\r\n        <th>Opcionais</th> \r\n        <th>Ações</th>\r\n\r\n\r\n        <tr v-for=\"burger in state.burgers\" :key=\"burger.id\"> \r\n            <td>{{ burger.id }}</td>\r\n            <td>{{ burger.nome }}</td>\r\n            <td>{{ burger.pao }}</td>\r\n            <td>{{ burger.carne }}</td>\r\n            <td>\r\n                <ul class=\"lista-opcionais\" v-for=\"(itens,index) in burger.opcionais\" :key=\"index\">\r\n                    <li>{{ itens }}</li>\r\n                </ul>\r\n            </td>\r\n            <td class=\"actions-cell\">\r\n                <ul class=\"actions\">\r\n                    <li>\r\n                        <select name=\"status\" @change=\"updateStatus($event, burger.id)\">\r\n                            <option value=\"\">Selecione</option>\r\n                            <option  v-for=\"cond in state.status\" :key=\"cond.id\" :value=\"cond.tipo\" :selected=\"burger.status == cond.tipo\">{{ cond.tipo }}</option>\r\n                        </select>\r\n                    </li>\r\n                    <li>\r\n                        <input @click=\"removePedido(burger.id)\" type=\"button\" value=\"Remover\" id=\"remove-btn\">\r\n                    </li>\r\n                </ul>\r\n\r\n            </td>\r\n        </tr>\r\n    </table>\r\n</template>\r\n\r\n<script>\r\nimport Message from './Message.vue'\r\nimport { reactive } from '@vue/reactivity'\r\nimport { onMounted } from '@vue/runtime-core'\r\n    export default {\r\n        name: 'Dashboard',\r\n        components:{\r\n            Message\r\n        },\r\n        setup(){\r\n            const state = reactive({\r\n                burgers: null,\r\n                burger_id: null,\r\n                status: [],\r\n                statusMsg: null\r\n            })\r\n\r\n            async function getStatus(){\r\n                const req = await fetch('http://localhost:3000/status')\r\n                const data = await req.json()\r\n                state.status = data\r\n            }\r\n\r\n            async function getPedidos(){\r\n                const req = await fetch('http://localhost:3000/burgers')\r\n\r\n                const data = await req.json()\r\n\r\n                state.burgers = data\r\n                getStatus()\r\n            }\r\n\r\n            async function removePedido(id){\r\n                const req = await fetch(`http://localhost:3000/burgers/${id}`,{\r\n                    method: 'DELETE'\r\n                })\r\n\r\n                const res = await req.json()\r\n\r\n                getPedidos()\r\n                showStatusMsg('removido', id)\r\n            }\r\n\r\n            async function updateStatus(event, id){\r\n                const option = event.target.value\r\n\r\n                const dataJson = JSON.stringify({status: option})\r\n\r\n                const req = await fetch(`http://localhost:3000/burgers/${id}`,{\r\n                    method: 'PATCH',\r\n                    headers: {'Content-Type': 'application/json'},\r\n                    body: dataJson\r\n                })\r\n\r\n                const res = await req.json()\r\n                showStatusMsg('atualizado', id)\r\n\r\n            }\r\n\r\n            function showStatusMsg(msg, id){\r\n                state.statusMsg = `Pedido Nº ${id} ${msg} com sucesso!`\r\n                setTimeout(()=>{\r\n                    state.statusMsg = null\r\n                },4000)\r\n            }\r\n\r\n            onMounted(()=>{\r\n                getPedidos()\r\n            })\r\n\r\n            return{\r\n                state,\r\n                removePedido,\r\n                updateStatus\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n    select{\r\n        width: 100px;\r\n        margin: 0 auto;\r\n        padding: 5px 0;\r\n    }\r\n    #remove-btn{\r\n        padding: 5px;\r\n        border: none;\r\n        background-color: #222;\r\n        border-radius: 5px;\r\n        color: #FCBA03;\r\n        cursor: pointer;\r\n        font-weight: bold;\r\n        transition: .5s;\r\n    }\r\n    #remove-btn:hover{\r\n        background-color: rgb(55, 54, 54);\r\n        color: white;\r\n    }\r\n    th{\r\n        font-style: italic;\r\n        border-bottom: 2px solid black;\r\n    }\r\n    table{\r\n        flex-wrap: wrap;\r\n        width: 90vw;\r\n        margin: auto;\r\n        border-collapse: collapse;\r\n    }\r\n    tr{\r\n        min-height: 150px;\r\n        text-align: center;\r\n    }\r\n    td{\r\n        padding: 5px;\r\n        border-bottom: 1.5px solid black;\r\n\r\n    }\r\n    .lista-opcionais{\r\n        list-style: none;\r\n    }\r\n    ul{\r\n        list-style: none;\r\n        margin: auto;\r\n    }\r\n    ul.actions{\r\n        width: 200px;\r\n    }\r\n    .actions-cell{\r\n        width: 230px;\r\n    }\r\n    li{\r\n        margin: 5px 0;\r\n    }\r\n</style>","import { render } from \"./Dashboard.vue?vue&type=template&id=84e453d8&scoped=true\"\nimport script from \"./Dashboard.vue?vue&type=script&lang=js\"\nexport * from \"./Dashboard.vue?vue&type=script&lang=js\"\n\nimport \"./Dashboard.vue?vue&type=style&index=0&id=84e453d8&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\gabri\\\\Desktop\\\\Projetos\\\\curso-vue\\\\projeto-curso-vue\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-84e453d8\"]])\n\nexport default __exports__","import { render } from \"./Pedidos.vue?vue&type=template&id=b755008c\"\nimport script from \"./Pedidos.vue?vue&type=script&lang=js\"\nexport * from \"./Pedidos.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\gabri\\\\Desktop\\\\Projetos\\\\curso-vue\\\\projeto-curso-vue\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","_createElementBlock","_hoisted_2","_createVNode","_component_Dashboard","id","value","_component_Message","msg","$setup","statusMsg","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_Fragment","_renderList","burgers","burger","key","_toDisplayString","nome","pao","carne","opcionais","itens","index","name","onChange","$event","_hoisted_11","status","cond","tipo","selected","_hoisted_12","onClick","type","components","Message","setup","state","reactive","burger_id","async","getStatus","req","fetch","data","json","getPedidos","removePedido","method","showStatusMsg","updateStatus","event","option","target","dataJson","JSON","stringify","headers","body","setTimeout","onMounted","__exports__","Dashboard","render"],"sourceRoot":""}